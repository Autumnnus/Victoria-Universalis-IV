national_idea_mdf = {
	if = {
		limit = {
			this = c:GBR
		}
		british_ideas = yes
	}
	else_if = {
		limit = {
			this = c:FRA
		}
		french_ideas = yes
	}
	else_if = {
		limit = {
			this = c:SGF
			exists = c:SGF
		}
		german_ideas = yes
	}
	else_if = {
		limit = {
			this = c:GER
			exists = c:GER
		}
		german_ideas = yes
	}
	else_if = {
		limit = {
			this = c:PRU
			exists = c:PRU
		}
		german_ideas = yes
	}
	else_if = {
		limit = {
			this = c:NGF
			exists = c:NGF
		}
		german_ideas = yes
	}
	else_if = {
		limit = {
			this = c:AUS
		}
		austrian_ideas = yes
	}
	else_if = {
		limit = {
			this = c:RUS
		}
		russian_ideas = yes
	}
	else_if = {
		limit = {
			this = c:TUR
		}
		turkish_ideas = yes
	}
	else_if = {
		limit = {
			this = c:CHI
		}
		chinese_ideas = yes
	}
	else_if = {
		limit = {
			this = c:JAP
		}
		japanese_ideas = yes
	}
	else_if = {
		limit = {
			this = c:USA
		}
		american_ideas = yes
	}
	else = {
		generic_ideas = yes
	}
}

cancel_national_idea_mdf = {
	if = {
		limit = {
			this = c:GBR
		}
		cancel_british_ideas = yes
	}
	else_if = {
		limit = {
			this = c:FRA
		}
		cancel_french_ideas = yes
	}
	else_if = {
		limit = {
			this = c:SGF
			exists = c:SGF
		}
		cancel_german_ideas = yes
	}
	else_if = {
		limit = {
			this = c:GER
			exists = c:GER
		}
		cancel_german_ideas = yes
	}
	else_if = {
		limit = {
			this = c:PRU
			exists = c:PRU
		}
		cancel_german_ideas = yes
	}
	else_if = {
		limit = {
			this = c:NGF
			exists = c:NGF
		}
		cancel_german_ideas = yes
	}
	else_if = {
		limit = {
			this = c:AUS
		}
		cancel_austrian_ideas = yes
	}
	else_if = {
		limit = {
			this = c:RUS
		}
		cancel_russian_ideas = yes
	}
	else_if = {
		limit = {
			this = c:TUR
		}
		cancel_turkish_ideas = yes
	}
	else_if = {
		limit = {
			this = c:CHI
		}
		cancel_chinese_ideas = yes
	}
	else_if = {
		limit = {
			this = c:JAP
		}
		cancel_japanese_ideas = yes
	}
	else_if = {
		limit = {
			this = c:USA
		}
		cancel_american_ideas = yes
	}
	else = {
		cancel_generic_ideas = yes
	}
}

idea_cost = {
	change_variable = {
		name = idea_point_pool
		subtract = 300
	}
}

reform_limiter = {
	if = {
		limit = {
			var:selected_reform_value == 7
		}
		set_variable = {
			name = culture_reform_point
			value = 750
		}
		set_variable = stop_getting_reform_point
	}
}

reform_bar_effects = {
	if = {
		limit = {
			var:culture_reform_value == 7
		}
		add_modifier = {
			name = bar_supremacy_mdf_7
			months = -1
		}
		if = {
			limit = {
				has_modifier = bar_supremacy_mdf_6
			}
			remove_modifier = bar_supremacy_mdf_6
		}
	}
	else_if = {
		limit = {
			var:culture_reform_value == 6
		}
		add_modifier = {
			name = bar_supremacy_mdf_6
			months = -1
		}
		if = {
			limit = {
				has_modifier = bar_supremacy_mdf_7
			}
			remove_modifier = bar_supremacy_mdf_7
		}
		else_if = {
			limit = {
				has_modifier = bar_supremacy_mdf_5
			}
			remove_modifier = bar_supremacy_mdf_5
		}
	}
	else_if = {
		limit = {
			var:culture_reform_value == 5
		}
		add_modifier = {
			name = bar_supremacy_mdf_5
			months = -1
		}
		if = {
			limit = {
				has_modifier = bar_supremacy_mdf_6
			}
			remove_modifier = bar_supremacy_mdf_6
		}
		else_if = {
			limit = {
				has_modifier = bar_supremacy_mdf_4
			}
			remove_modifier = bar_supremacy_mdf_4
		}
	}
	else_if = {
		limit = {
			var:culture_reform_value == 4
		}
		add_modifier = {
			name = bar_supremacy_mdf_4
			months = -1
		}
		if = {
			limit = {
				has_modifier = bar_supremacy_mdf_5
			}
			remove_modifier = bar_supremacy_mdf_5
		}
		else_if = {
			limit = {
				has_modifier = bar_supremacy_mdf_3
			}
			remove_modifier = bar_supremacy_mdf_3
		}
	}
	else_if = {
		limit = {
			var:culture_reform_value == 3
		}
		add_modifier = {
			name = bar_supremacy_mdf_3
			months = -1
		}
		if = {
			limit = {
				has_modifier = bar_supremacy_mdf_4
			}
			remove_modifier = bar_supremacy_mdf_4
		}
		else_if = {
			limit = {
				has_modifier = bar_supremacy_mdf_2
			}
			remove_modifier = bar_supremacy_mdf_2
		}
	}
	else_if = {
		limit = {
			var:culture_reform_value == 2
		}
		add_modifier = {
			name = bar_supremacy_mdf_2
			months = -1
		}
		if = {
			limit = {
				has_modifier = bar_supremacy_mdf_3
			}
			remove_modifier = bar_supremacy_mdf_3
		}
		else_if = {
			limit = {
				has_modifier = bar_supremacy_mdf_1
			}
			remove_modifier = bar_supremacy_mdf_1
		}
	}
	else_if = {
		limit = {
			var:culture_reform_value == 1
		}
		add_modifier = {
			name = bar_supremacy_mdf_1
			months = -1
		}
		if = {
			limit = {
				has_modifier = bar_supremacy_mdf_2
			}
			remove_modifier = bar_supremacy_mdf_2
		}
	}
	else_if = {
		limit = {
			var:culture_reform_value == 0
		}
		if = {
			limit = {
				has_modifier = bar_supremacy_mdf_1
			}
			remove_modifier = bar_supremacy_mdf_1
		}
		else_if = {
			limit = {
				has_modifier = bar_intellectual_mdf_1
			}
			remove_modifier = bar_intellectual_mdf_1
		}
	}
	else_if = {
		limit = {
			var:culture_reform_value == -1
		}
		add_modifier = {
			name = bar_intellectual_mdf_1
			months = -1
		}
		if = {
			limit = {
				has_modifier = bar_intellectual_mdf_2
			}
			remove_modifier = bar_intellectual_mdf_2
		}
	}
	else_if = {
		limit = {
			var:culture_reform_value == -2
		}
		add_modifier = {
			name = bar_intellectual_mdf_2
			months = -1
		}
		if = {
			limit = {
				has_modifier = bar_intellectual_mdf_1
			}
			remove_modifier = bar_intellectual_mdf_1
		}
		else_if = {
			limit = {
				has_modifier = bar_intellectual_mdf_3
			}
			remove_modifier = bar_intellectual_mdf_3
		}
	}
	else_if = {
		limit = {
			var:culture_reform_value == -3
		}
		add_modifier = {
			name = bar_intellectual_mdf_3
			months = -1
		}
		if = {
			limit = {
				has_modifier = bar_intellectual_mdf_2
			}
			remove_modifier = bar_intellectual_mdf_2
		}
		else_if = {
			limit = {
				has_modifier = bar_intellectual_mdf_4
			}
			remove_modifier = bar_intellectual_mdf_4
		}
	}
	else_if = {
		limit = {
			var:culture_reform_value == -4
		}
		add_modifier = {
			name = bar_intellectual_mdf_4
			months = -1
		}
		if = {
			limit = {
				has_modifier = bar_intellectual_mdf_3
			}
			remove_modifier = bar_intellectual_mdf_3
		}
		else_if = {
			limit = {
				has_modifier = bar_intellectual_mdf_5
			}
			remove_modifier = bar_intellectual_mdf_5
		}
	}
	else_if = {
		limit = {
			var:culture_reform_value == -5
		}
		add_modifier = {
			name = bar_intellectual_mdf_5
			months = -1
		}
		if = {
			limit = {
				has_modifier = bar_intellectual_mdf_4
			}
			remove_modifier = bar_intellectual_mdf_4
		}
		else_if = {
			limit = {
				has_modifier = bar_intellectual_mdf_6
			}
			remove_modifier = bar_intellectual_mdf_6
		}
	}
	else_if = {
		limit = {
			var:culture_reform_value == -6
		}
		add_modifier = {
			name = bar_intellectual_mdf_6
			months = -1
		}
		if = {
			limit = {
				has_modifier = bar_intellectual_mdf_5
			}
			remove_modifier = bar_intellectual_mdf_5
		}
		else_if = {
			limit = {
				has_modifier = bar_intellectual_mdf_7
			}
			remove_modifier = bar_intellectual_mdf_7
		}
	}
	else_if = {
		limit = {
			var:culture_reform_value == -7
		}
		add_modifier = {
			name = bar_intellectual_mdf_7
			months = -1
		}
		if = {
			limit = {
				has_modifier = bar_intellectual_mdf_6
			}
			remove_modifier = bar_intellectual_mdf_6
		}
	}
}

balance_missionaries = {
	if = {
		limit = {
			var:avaible_missionaries < 0
		}
		every_scope_state = {
			limit = {
				has_modifier = ve_missionary_mdf
			}
			remove_modifier = ve_missionary_mdf
		}
		set_variable = {
			name = avaible_missionaries
			value = var:total_missionaries
		}
	}
}

call_missionaries_effect = {
	every_scope_state = {
		limit = {
			has_modifier = ve_missionary_mdf
		}
		remove_modifier = ve_missionary_mdf
	}
	set_variable = {
		name = avaible_missionaries
		value = var:total_missionaries
	}
}

balance_cultural_missionaries = {
	if = {
		limit = {
			var:avaible_culture_missionaries < 0
		}
		every_scope_state = {
			limit = {
				has_modifier = ve_diffusionist_mdf
			}
			remove_modifier = ve_diffusionist_mdf
		}
		set_variable = {
			name = avaible_culture_missionaries
			value = var:total_culture_missionaries
		}
	}
}

call_cultural_missionaries_effect = {
	every_scope_state = {
		limit = {
			has_modifier = ve_diffusionist_mdf
		}
		remove_modifier = ve_diffusionist_mdf
	}
	set_variable = {
		name = avaible_culture_missionaries
		value = var:total_culture_missionaries
	}
}

religion_passive_bonuses = {
	if = {
		limit = {
			religion = rel:catholic
		}
		add_modifier = {
			name = catholic_pasive_mdf
			months = -1
		}
	}
	else_if = {
		limit = {
			religion = rel:protestant
		}
		add_modifier = {
			name = protestant_pasive_mdf
			months = -1
		}
	}
	else_if = {
		limit = {
			religion = rel:orthodox
		}
		add_modifier = {
			name = orthodox_pasive_mdf
			months = -1
		}
	}
	else_if = {
		limit = {
			religion = rel:oriental_orthodox
		}
		add_modifier = {
			name = coptic_pasive_mdf
			months = -1
		}
	}
	else_if = {
		limit = {
			religion = rel:sunni
		}
		add_modifier = {
			name = sunni_pasive_mdf
			months = -1
		}
	}
	else_if = {
		limit = {
			religion = rel:shiite
		}
		add_modifier = {
			name = shia_pasive_mdf
			months = -1
		}
	}
	else_if = {
		limit = {
			religion = rel:jewish
		}
		add_modifier = {
			name = jewish_pasive_mdf
			months = -1
		}
	}
	else_if = {
		limit = {
			OR = {
				religion = rel:mahayana
				religion = rel:gelugpa
				religion = rel:theravada
				religion = rel:shinto
			}
		}
		add_modifier = {
			name = mahayana_pasive_mdf
			months = -1
		}
	}
	else_if = {
		limit = {
			religion = rel:hindu
		}
		add_modifier = {
			name = hindu_pasive_mdf
			months = -1
		}
	}
	else_if = {
		limit = {
			religion = rel:sikh
		}
		add_modifier = {
			name = sikh_pasive_mdf
			months = -1
		}
	}
	else_if = {
		limit = {
			religion = rel:animist
		}
		add_modifier = {
			name = animist_pasive_mdf
			months = -1
		}
	}
}
